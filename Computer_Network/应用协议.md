## 应用协议

### Web服务器

> Web服务器，一般是指“网站服务器”，是指驻留于互联网上某种类型计算机的程序。Web服务器可以向Web浏览器等客户端提供文档，也可以放置网站文件，让全世界浏览，更可以放置数据文件，让全世界下载。

> 1、Web服务器是一种被动程序，只有当互联网上运行的、其他计算机中的浏览器发出请求时，Web服务器才会响应。
>
> 　2、互联网上的服务器，也称为：Web服务器，是一台在互联网上具有独立IP地址的高性能计算机，可以向互联网上的客户机，包括：个人台式机电脑、笔记本电脑、平板电脑等，提供“WWW（万维网）、Email（电子邮件）和FTP（文件传输）”等各种互联网服务。

![image.png](http://ww1.sinaimg.cn/large/00882iMuly1geejli6h6ij30g50cmjyh.jpg)

> Web服务器，是指驻留于互联网上某种类型计算机的程序。当Web浏览器（客户端）连到Web服务器上，并请求文件时，Web服务器将处理该请求，并将文件发送反馈到Web浏览器上，附带的信息会告诉Web浏览器如何查看该文件。由于Web服务器，使用HTTP（超文本传输协议）与客户机浏览器进行信息交流，所以人们常把它们称为“HTTP服务器”。

Web服务器的工作原理并不复杂，一般可分成4个步骤：连接过程、请求过程、应答过程以及关闭连接。

![image.png](http://ww1.sinaimg.cn/large/00882iMuly1geekgv5ngbj30l209sgnq.jpg)

> 连接过程，就是Web服务器和Web浏览器之间所建立起来的一种连接。要查看连接过程是否实现，用户可以找到和打开socket这个虚拟文件（一个抽象层，应用程序可以通过它发送或接收数据，可对其进行像对文件一样的“打开、读写和关闭”等操作）。这个文件的建立，意味着“连接过程”这一步骤已经成功建立。

> 　　请求过程，就是Web的浏览器运用socket这个文件向Web的服务器提出各种请求。应答过程，就是运用“HTTP协议”把在请求过程中所提出来的请求，传输到Web的服务器，进而实施任务处理，然后运用“HTTP协议”把任务处理的结果，再传输到Web的浏览器，同时在Web的浏览器上面，展示上述所请求的界面。

> 关闭连接，就是当上一个步骤：“应答过程”完成以后，Web服务器和Web浏览器之间断开连接的过程。Web服务器上述4个步骤环环相扣、紧密相联，逻辑性比较强，可以支持多个进程、多个线程，以及多个进程与多个线程相混合的技术。

### FTP协议    https://blog.csdn.net/xu735456/article/details/54846239

> FTP（File Transfer Protocol，文件传输协议） 是 TCP/IP 协议组中知的协议之一。[FTP协议](https://www.baidu.com/s?wd=FTP协议&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao)包括两个组成部分，其一为[FTP服务器](https://www.baidu.com/s?wd=FTP服务器&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao)，其二为FTP客户端。

> 其中[FTP服务器](https://www.baidu.com/s?wd=FTP服务器&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao)用来存储文件，用户可以使用FTP客户端通过[FTP协议](https://www.baidu.com/s?wd=FTP协议&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao)访问位于[FTP服务器](https://www.baidu.com/s?wd=FTP服务器&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao)上的资源。在开发网站的时候，通常利用[FTP协议](https://www.baidu.com/s?wd=FTP协议&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao)把网页或程序传到Web服务器上。此外，由道于FTP传输效率非常高，在网络上传输大的文件时，一般也采用该协议。

![image.png](http://ww1.sinaimg.cn/large/00882iMugy1gef8oh14kvj30fx087gnk.jpg)

FTP协议服务器用来存储文件，用户可以使用FTP客户端通过FTP协议访问位于FTP服务器上的资源。在开发网站的时候通常利用FTP协议把网页或程序传到Web服务器上。此外，由于FTP传输效率非常高，在网络上传输大的文件时，一般也采用该协议。

FTP 使用 2 个端口，一个数据端口和一个命令端口（也叫做控制端口）。这两个端口一般是21 （命令端口）和 20 （数据端口）。控制 Socket 用来传送命令，数据 Socket 是用于传送数据。每一个 FTP 命令发送之后，FTP 服务器都会返回一个字符串，其中包括一个响应代码和一些说明信息。其中的返回码主要是用于判断命令是否被成功执行了。

![img](https://iknow-pic.cdn.bcebos.com/3ac79f3df8dcd100e48195d67f8b4710b9122f23?x-bce-process=image/resize,m_lfit,w_600,h_800,limit_1)

SMTP、DNS、

##### 1、SMTP介绍

> SMTP（Simple Mail Transfer Protocol）即简单邮件传输协议,它是一组用于由源地址到目的地址传送邮件 
> 的规则，由它来控制信件的中转方式。SMTP协议属于TCP/IP协议簇，它帮助每台计算机在发送或中转信件 
> 时找到下一个目的地。
>
> SMTP 是一种TCP协议支持的提供可靠且有效电子邮件传输的应用层协议。
>
> 工作过程：首先，运行在发送端邮件服务器主机上的SMTP客户，发起建立一个到运行在接收端邮件服务器主机上的 SMTP服务器端口号25之间的TCP连接。如果接收邮件服务器当前不在工作，SMTP客户就等待一段时间后再 尝试建立该连接。

![image-20200503143005512](/home/xiongdongdong/.config/Typora/typora-user-images/image-20200503143005512.png)

连接建立
SMTP客户和SMTP服务器首先要建立TCP连接。

 1. 从客户端使用熟知端口号25建立与服务器的TCP连接，SMTP服务器向该客户送回应答码220，并且还为客户端提供了服务器的域名
 2. 客户端收到应答码后，发送HELO命令，启动客户端和服务器之间的SMTP会话。该客户端发送的HELO用来向服务器提供客户端的标识信息
 3. 服务器端回应应答码250，通知客户端：请求建立邮件服务会话已经实现
-报文发送

在SMTP客户与SMTP服务器之间的连接建立之后，发信的用户就可以与一个或多个收信人交换邮件报文了。

 1. 客户用“MAIL ＦＲＯＭ”向服务器报告发信人的邮箱与域名
 2. 服务器向客户回应应答码“250”，代表请求命令完成
 3. 客户用“RCPT TO”命令向服务器报告收信人的邮箱与域名
 4. 服务器向客户回应应答码“250”，代表请求命令完成
 5. 客户用“DTAT”命令对报文的传送进行初始化
 6. 服务器回应“354”，表示可以进行邮件输入了
 7. 客户用连续的行向服务器传送报文的内容，每行以两字符的行结束标识（CR与LF）终止。报文以只有一个“.”的行结束
  8. 服务器向客户回应应答码“250”，代表请求命令完成

##### DNS介绍

> DNS协议则是用来将域名转换为IP地址（也可以将IP地址转换为相应的域名地址）。

域名是分层结构，域名服务器也是对应的层级结构。 

> 有了域名结构，还需要有一个东西去解析域名，域名需要由遍及全世界的域名服务器去解析，域名服务器实际上就是装有域名系统的主机。

由高向低进行层次划分，可分为以下几大类：

```
分类	作用
根域名服务器	最高层次的域名服务器，本地域名服务器解析不了的域名就会向其求助
顶级域名服务器	负责管理在该顶级域名服务器下注册的二级域名
权限域名服务器	负责一个区的域名解析工作
本地域名服务器	当一个主机发出DNS查询请求时，这个查询请求首先发给本地域名服务器
```

注：一个域名服务器所负责的范围，或者说有管理权限的范围，就称为区 
我们需要注意的是： 

> 每个层的域名上都有自己的域名服务器，最顶层的是根域名服务器 

> 每一级域名服务器都知道下级域名服务器的IP地址 

> 为了容灾, 每一级至少设置两个或以上的域名服务器


